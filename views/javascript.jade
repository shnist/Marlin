include includes/header
div#page
	div#content
		h1= name
		// export data form
		form(method='post', id='export')
			fieldset
				input(type='submit', name='exporting', value='Export all data')
		include includes/latest_information
		include includes/navigation
		// javascript performance
		h2.rule-title JavaScript Performance
		div#chart-javascript.graph
			table
				caption A table to show JavaScript Performance
				thead
					tr
						th Time of Commit
						-each set in statistics[0]
							th= set.name
				tbody
					-each set, i in statistics
						tr
							td= new Date(reports[i].date).toLocaleDateString() + '&nbsp;' + new Date(reports[i].date).toLocaleTimeString()
							-each value in set
								td=value.value
		// form for selecting different rules
		form(method='post', class='rule-options')
			fieldset(class='date collapsible')
				h3.first Change the data range
					span.arrow
				ul
					li
						label(for='js-date-from') From:
						input(type='text', name='date-from', id='js-date-from', class='has-date-picker date-from', value=new Date(reports[0].date).getDate() + '/' + new Date(reports[0].date).getMonth() + '/' + new Date(reports[0].date).getFullYear())
					li
						label(for='js-date-to') To:
						input(type='text', name='date-to', id='js-date-to', class='has-date-picker date-to', value=new Date().getDate() + '/' + new Date().getMonth() + '/' + new Date().getFullYear())
			fieldset.collapsible
				h3.last Update the rules shown
					span.arrow
				ul
					li.hidden
						input(type='text', name='chart-type', value='javascript', readonly='readonly')
					li.hidden
						input(type='text', name='project', value=name, readonly='readonly')
					-var checked=false
					-each rule, i in statistics[0]
						-if (selected !== null)
							-each name in selected
									-if (name === rule.id)	
										-checked=true
									-else
										-checked=false
						-else
							-checked=true
						li
							-if (checked === false)
								input(type='checkbox', name='rules[]', value=rule.id, id=rule.id)
								label(for=rule.id)= rule.name
							-else
								input(type='checkbox', name='rules[]', value=rule.id, id=rule.id, checked='checked')
								label(for=rule.id)= rule.name
			input(type="submit", name="submit", value="Update Graph")
//footer
include includes/footer
//scripts
include includes/scripts